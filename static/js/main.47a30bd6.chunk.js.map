{"version":3,"sources":["components/Reader/Reader.module.css","components/Reader/Publication/Publication.module.css","components/Reader/Counter/Counter.module.css","components/Reader/Publication/Publication.js","components/Reader/Counter/Counter.js","components/Reader/Controls/Controls.js","components/Reader/Reader.js","components/App/index.jsx","index.js","components/Reader/Controls/Controls.module.css"],"names":["module","exports","Publication","publication","title","text","className","styles","Counter","currentPage","length","counter","Controls","handlePage","controls","type","name","button","onClick","disabled","Reader","state","item","handleItemChange","e","props","location","history","redirect","push","search","pathname","target","setState","prevState","this","query","Number","queryString","parse","data","find","replace","prevProps","prevItem","reader","to","render","component","Component","withRouter","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.47a30bd6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2gBIv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1gxdj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2qRy9\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Publication.module.css';\n\nconst Publication = ({ publication: { title, text } }) => {\n  return (\n    <div>\n      <article className={styles.publication}>\n        <h2>{title}</h2>\n        <p>{text}</p>\n      </article>\n    </div>\n  );\n};\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentPage, length }) => {\n  return (\n    <p className={styles.counter}>\n      {currentPage}/{length}\n    </p>\n  );\n};\n\nCounter.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handlePage, length, currentPage }) => {\n  return (\n    <section className={styles.controls}>\n      <button\n        type=\"button\"\n        name=\"decrease\"\n        className={styles.button}\n        onClick={handlePage}\n        disabled={currentPage === 1}\n      >\n        Назад\n      </button>\n      <button\n        type=\"button\"\n        name=\"increase\"\n        className={styles.button}\n        onClick={handlePage}\n        disabled={currentPage === length}\n      >\n        Вперед\n      </button>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  handlePage: PropTypes.func.isRequired,\n  length: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport { Route, withRouter, Switch, Redirect } from 'react-router-dom';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport styles from './Reader.module.css';\n\nimport data from '../../assets/publications.json';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\n\nclass Reader extends Component {\n  state = { item: 1, publication: {} };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const { item } = this.state;\n\n    const query = Number(queryString.parse(location.search).item);\n    if (query && query > 0 && query < data.length) {\n      this.setState({\n        publication: data.find(publication => publication.item === query),\n        item: query,\n      });\n    } else {\n      history.replace({\n        ...location,\n        search: `item=${item}`,\n        pathname: '/reader',\n      });\n\n      this.setState({\n        publication: data.find(publication => publication.item === item),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { item } = this.state;\n    const prevItem = queryString.parse(prevProps.location.search).item;\n    if (item !== Number(prevItem))\n      this.setState({\n        publication: data.find(\n          publication => publication.item === Number(item),\n        ),\n      });\n  }\n\n  handleItemChange = e => {\n    const { location, history } = this.props;\n\n    const redirect = () => {\n      return history.push({\n        ...location,\n        search: `item=${this.state.item}`,\n        pathname: '/reader',\n      });\n    };\n\n    if (e.target.name === 'decrease') {\n      this.setState(prevState => ({ item: prevState.item - 1 }), redirect);\n    } else {\n      this.setState(prevState => ({ item: prevState.item + 1 }), redirect);\n    }\n  };\n\n  render() {\n    const { item, publication } = this.state;\n    const { location } = this.props;\n    return (\n      <div className={styles.reader}>\n        <Controls\n          currentPage={item}\n          length={data.length}\n          handlePage={this.handleItemChange}\n        />\n\n        <Counter currentPage={item} length={data.length} />\n        <Switch>\n          <Route\n            to={{\n              pathname: `/reader`,\n              search: `?item=${item}`,\n            }}\n            render={() => <Publication publication={publication} />}\n          />\n\n          <Redirect\n            to={{\n              ...location,\n\n              pathname: '/reader',\n            }}\n            component={Publication}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n    search: PropTypes.string,\n  }).isRequired,\n  history: PropTypes.shape({\n    length: PropTypes.number.isRequired,\n    replace: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(Reader);\n","import React from 'react';\r\n\r\nimport Reader from '../Reader/Reader';\r\n\r\nconst App = () => <Reader />;\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport App from './components/App/index';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__7LVK6\",\"button\":\"Controls_button__259Uf\"};"],"sourceRoot":""}